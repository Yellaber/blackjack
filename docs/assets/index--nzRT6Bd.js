(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function e(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=e(r);fetch(r.href,s)}})();const N=(a,o)=>{if(!a||a.length===0)throw new Error("Tipos es obligatorio como un arreglo de String.");if(!o||o.length===0)throw new Error("Figuras es obligatorio como un arreglo de String.");let e=[];for(let r=2;r<=10;r++)for(let s of a)e.push(r+s);for(let r of o)for(let s of a)e.push(r+s);let n=e.length;for(;--n>0;){let r=Math.floor(Math.random()*(n+1));[e[r],e[n]]=[e[n],e[r]]}return e},l=(a,o)=>{o?a.forEach(e=>e.classList.remove("disabled")):a.forEach(e=>e.classList.add("disabled"))},P=(a,o,e)=>{const n=document.createElement("img");return n.src=`./assets/images/${e}.png`,a===1&&o===2&&(n.src="./assets/images/blue-back.png"),n.classList.add("shadow"),n},O=a=>{if(!a||a.length===0)throw"Lo siento, no hay cartas en el mazo.";return a.pop()},M=(a,o,e)=>{const n=o.substring(0,o.length-1);let r=isNaN(n)?n==="A"?1:10:n*1;return a==2&&e==1&&r==10?r=20:a==2&&e==10&&r==1&&(r=11),r},k=(a,o,e)=>a+M(o,e,a);(()=>{let a=[],o=[0,0],e=[0,0,0,0,0];const n=["C","D","H","S"],r=["A","J","K","Q"],s=[10,20,50,100],u=500;let y,i=u;const v=document.querySelector("#dinero span"),f=document.querySelectorAll("#fichas a"),m=document.querySelectorAll("#fichas span"),p=document.querySelectorAll("#opciones-apuesta button"),g=document.querySelectorAll("#opciones-juego button"),A=document.querySelector("#jugador-cartas"),S=document.querySelector("#computadora-cartas");[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(t=>new bootstrap.Tooltip(t));const w=t=>{a=N(n,r);const c=A.querySelectorAll("img"),d=S.querySelectorAll("img");i=t,v.innerText=t,c.length>0&&c.forEach(L=>L.remove()),d.length>0&&d.forEach(L=>L.remove())},F=()=>{i===0&&Swal.fire({icon:"error",title:"¡Fin de la ronda!",text:"Te has quedado sin dinero.",toast:!0,position:"bottom-end",confirmButtonText:"Nueva ronda"}).then(t=>{t.isConfirmed&&q()})},h=(t,c,d)=>{Swal.fire({icon:t,title:c,text:d,toast:!0,position:"bottom-end",confirmButtonText:"Ok"}).then(L=>{L.isConfirmed&&(t.includes("success")||t.includes("warning")||t.includes("error"))&&(E(),l(f,!0),w(i),F())})},C=t=>{const c=O(a);o[0]=k(o[0],t,c);const d=P(0,t,c);A.append(d),o[0]>=21&&x()},T=t=>{y=O(a),o[1]=k(o[1],t,y);const c=P(1,t,y);S.append(c)},E=()=>{for(let t=0;t<e.length;t++)e[t]=0;for(let t=0;t<o.length;t++)o[t]=0;m.forEach(t=>t.innerText=0)},J=()=>{if(e[4]>0&&e[4]<=i){i=i-e[4],v.innerText=i;for(let t=1;t<=2;t++)T(t),C(t);l(f,!1),l(p,!1),l(g,!0)}else e[4]===0?h("info","¡Uups...!","Para apostar primero debes comprar fichas."):h("info","¡Uups...!","No tienes suficiente dinero para comprar fichas.")},q=()=>{E(),l(f,!0),w(u),l(g,!1)},x=()=>{l(g,!1);const t=document.querySelectorAll("#computadora-cartas img");for(t[1].src=`./assets/images/${y}.png`,t[1].classList.add("shadow");o[1]<=16;)T(0);o[0]<=21&&(o[0]>o[1]||o[1]>21)?(h("success","¡Felicidades!","Ganaste la partida."),i=t.length===2&&o[0]===21?i+e[4]*2.5:i+e[4]*2):o[1]===o[0]?(h("warning","¡Uups...!","No hay un ganador en la partida."),i=i+e[4]):h("error","¡Lo siento!","Perdiste la partida.")},b=(t,c,d)=>{t<=5&&(e[4]=e[4]+c,d.innerText=t,m[4].innerText=e[4]),p[0].classList.contains("disabled")&&p[0].classList.contains("disabled")&&l(p,!0)};f[0].addEventListener("click",()=>{e[0]++,b(e[0],s[0],m[0])}),f[1].addEventListener("click",()=>{e[1]++,b(e[1],s[1],m[1])}),f[2].addEventListener("click",()=>{e[2]++,b(e[2],s[2],m[2])}),f[3].addEventListener("click",()=>{e[3]++,b(e[3],s[3],m[3])}),p[0].addEventListener("click",()=>{E(),l(p,!1)}),p[1].addEventListener("click",()=>J()),g[0].addEventListener("click",()=>q()),g[1].addEventListener("click",()=>C(0)),g[2].addEventListener("click",()=>x()),v.innerText=u,a=N(n,r)})();
